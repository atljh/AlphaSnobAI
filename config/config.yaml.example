# ═══════════════════════════════════════════════════════════
# AlphaSnobAI Configuration
# ═══════════════════════════════════════════════════════════
# Copy this file to config.yaml and customize

# Telegram settings
telegram:
  session_name: alphasnob_session

# LLM settings
llm:
  provider: claude  # claude | openai
  model: claude-3-5-sonnet-20241022  # or gpt-4, gpt-4-mini
  temperature: 0.9  # 0.0-1.0, higher = more creative
  max_tokens: 500   # Maximum response length

# Bot behavior
bot:
  # Response mode:
  # - all: Respond to every message
  # - specific_users: Only respond to users in allowed_users
  # - probability: Respond randomly with response_probability chance
  # - mentioned: Only when mentioned or replied to
  response_mode: probability

  response_probability: 0.3  # 0.0-1.0 (used when mode=probability)

  allowed_users: []  # List of user IDs (used when mode=specific_users)
    # Example: [123456789, 987654321]

  context_length: 50  # Number of previous messages to use as context

# File paths
paths:
  corpus: olds.txt
  database: data/context.db
  logs: logs/alphasnob.log

# Daemon settings
daemon:
  pid_file: data/alphasnob.pid
  log_level: INFO  # DEBUG | INFO | WARNING | ERROR
  auto_restart: false  # Auto-restart on crash

# ═══════════════════════════════════════════════════════════
# ADVANCED FEATURES: Full User Replacement System
# ═══════════════════════════════════════════════════════════

# Persona system - Multiple personalities
persona:
  default_mode: owner  # alphasnob | normal | owner

  # Per-user overrides (user_id: mode)
  user_overrides: {}
  # Example: {123456789: "alphasnob", 987654321: "normal"}

  # Per-chat overrides (chat_id: mode)
  chat_overrides: {}

  # Allow dynamic switching based on context
  adaptive_switching: true

  # Persona-specific settings
  alphasnob:
    intensity: 0.8  # 0.0-1.0, how aggressive
    use_corpus: true

  normal:
    friendliness: 0.7  # 0.0-1.0
    emoji_probability: 0.3

  owner:
    corpus_path: data/owner_samples/messages.txt
    match_style_strength: 0.9  # How closely to mimic

# Typing simulation - Human-like behavior
typing:
  enabled: true

  # Reading delays (before marking message as read)
  read_delay:
    min_ms: 500
    max_ms: 3000
    per_word_ms: 150  # Add 150ms per word

  # Typing action delays
  typing_action:
    enabled: true
    base_delay_ms: 1000  # Base typing time
    per_character_ms: 50  # 50ms per character (realistic human speed)
    randomness: 0.3  # ±30% variation
    min_ms: 800
    max_ms: 15000  # Cap at 15 seconds

  # Delays before starting to type
  thinking_delay:
    min_ms: 500
    max_ms: 2500

# Decision engine - Smart response decisions
decision:
  # Base response probability (before multipliers)
  base_probability: 0.8  # 80% base chance to respond

  # Response probability modifiers by relationship
  relationship_multipliers:
    owner: 1.0  # Always respond to owner
    close_friend: 0.9
    friend: 0.7
    acquaintance: 0.5
    stranger: 0.3

  # Time-based behavior
  time_based:
    enabled: true
    quiet_hours_start: 23  # 11 PM
    quiet_hours_end: 8  # 8 AM
    quiet_hours_multiplier: 0.2  # Respond 5x less during quiet hours

  # Topic-based behavior
  topic_based:
    enabled: true
    boring_topics: ['weather', 'погода', 'sports', 'спорт']
    boring_topic_multiplier: 0.4
    interesting_topics: ['music', 'музыка', 'philosophy', 'философия', 'luxury', 'роскошь']
    interesting_topic_multiplier: 1.5

  # Conversation context
  context_aware:
    enabled: true
    recent_response_cooldown_seconds: 60
    max_consecutive_responses: 3
    consecutive_response_multiplier: 0.5

  # Cooldown to prevent spam
  cooldown:
    enabled: true
    min_seconds_between_responses: 30  # Wait at least 30s between responses
    max_consecutive_responses: 3  # Max 3 responses in a row
    reset_after_seconds: 300  # 5 minutes - reset consecutive counter

# User profiling - Relationship tracking
profiling:
  enabled: true

  # Auto-upgrade relationship levels
  auto_upgrade:
    enabled: true
    stranger_to_acquaintance: 5  # After 5 interactions
    acquaintance_to_friend: 20  # After 20 interactions
    friend_to_close_friend: 100  # After 100 interactions

  # Trust score adjustment
  trust_adjustment:
    positive_markers: ['thanks', 'спасибо', 'cool', 'круто', 'отлично', 'excellent']
    negative_markers: ['stupid', 'тупой', 'идиот', 'hate', 'ненавижу']
    adjustment_amount: 0.1  # ±0.1 per marker

# Owner learning - Mimic your writing style
owner_learning:
  enabled: false  # Set to true after adding your messages
  owner_user_ids: []  # Add your Telegram user ID here
  # Example: [123456789]

  # Collect owner messages automatically
  auto_collect: false
  collection_path: data/owner_samples/collected.txt

  # Manual samples
  manual_samples_path: data/owner_samples/messages.txt

  # Style analysis
  analyze_on_startup: false
  min_samples: 50  # Need 50+ messages to activate owner mode

# Language detection
language:
  auto_detect: true  # Automatically detect and respond in same language
  supported: ['ru', 'en']  # Russian and English
  default: 'ru'
