# ๐ญ AlphaSnobAI v2.0 - Telegram UserBot

**ะญะปะธัะฐัะฝัะน ัััะตั-ะฟัะธั ั AI-ะธะฝัะตะปะปะตะบัะพะผ**

Telegram userbot ั daemon ัะฟัะฐะฒะปะตะฝะธะตะผ, ะบะพัะพััะน ะฐะฒัะพะผะฐัะธัะตัะบะธ ะพัะฒะตัะฐะตั ะฟะพะปัะทะพะฒะฐัะตะปัะผ ะฒ ัะฝะธะบะฐะปัะฝะพะผ ััะธะปะต:
- ๐ฅ **ะะพัะดะพะฒัะน ััะพะปะปะธะฝะณ** - ะณะธะฟะตัััะพัะธัะพะฒะฐะฝะฝัะต ะพัะบะพัะฑะปะตะฝะธั ะธ ัะตะฐััะฐะปัะฝัะต ัะฝะธะถะตะฝะธั
- ๐ **American Psycho ัััะตัะธะทะผ** - ะดะตัะฐะปัะฝัะต ะพะฟะธัะฐะฝะธั ััะพะดะฐ, ะบะพัะผะตัะธะบะธ, ัะพัะบะพัะธ
- ๐ช๏ธ **ะะฑัััะดะฝัะต ะณะธะฟะตัะฑะพะปั** - ะฟะพััะธัะฝัะต ะฟัะตัะฒะตะปะธัะตะฝะธั ะธ ะผะตัะฐัะพัั
- ๐ **ะะฐััะธััะธัะตัะบะธะน ัะฝะพะฑะธะทะผ** - ะฟะพััะพัะฝะฝะพะต ะฟะพะดัััะบะธะฒะฐะฝะธะต ะฟัะตะฒะพััะพะดััะฒะฐ

## โจ ะะพะฒะพะต ะฒ v2.0

- โ **Daemon ัะตะถะธะผ** - ะฑะพั ัะฐะฑะพัะฐะตั ะฒ ัะพะฝะต, ัะฟัะฐะฒะปะตะฝะธะต ัะตัะตะท CLI
- โ **YAML ะบะพะฝัะธะณััะฐัะธั** - ัะดะพะฑะฝะฐั ััััะบัััะธัะพะฒะฐะฝะฝะฐั ะฝะฐัััะพะนะบะฐ
- โ **Rich UI** - ะบัะฐัะธะฒัะน ะธะฝัะตััะตะนั ั ะฟะฐะฝะตะปัะผะธ, ัะฐะฑะปะธัะฐะผะธ, ะฟัะพะณัะตัั-ะฑะฐัะฐะผะธ
- โ **ะฆะฒะตัะฝัะต ะปะพะณะธ** - ะธะบะพะฝะบะธ ะธ ะฟะพะดัะฒะตัะบะฐ ะดะปั ัะฐะทะฝัั ััะพะฒะฝะตะน ะปะพะณะธัะพะฒะฐะฝะธั
- โ **ะฃะปัััะตะฝะฝะพะต ัะฟัะฐะฒะปะตะฝะธะต** - ะฟัะพัััะต ะบะพะผะฐะฝะดั start/stop/status

## ๐ ะกะพะดะตัะถะฐะฝะธะต

- [ะฃััะฐะฝะพะฒะบะฐ](#-ัััะฐะฝะพะฒะบะฐ)
- [ะะฐัััะพะนะบะฐ](#-ะฝะฐัััะพะนะบะฐ)
- [ะัะฟะพะปัะทะพะฒะฐะฝะธะต](#-ะธัะฟะพะปัะทะพะฒะฐะฝะธะต)
- [ะะพะผะฐะฝะดั CLI](#-ะบะพะผะฐะฝะดั-cli)
- [ะััะธัะตะบัััะฐ](#-ะฐััะธัะตะบัััะฐ)

## ๐ ะฃััะฐะฝะพะฒะบะฐ

### 1. ะกะธััะตะผะฝัะต ััะตะฑะพะฒะฐะฝะธั

- Python 3.10+
- Telegram ะฐะบะบะฐัะฝั
- API ะบะปัั Claude (Anthropic) ะธะปะธ OpenAI

### 2. ะะพะดะณะพัะพะฒะบะฐ ะพะบััะถะตะฝะธั

```bash
cd /Users/fyodorlukashov/Music/AlphaSnobAI

# ะกะพะทะดะฐัั ะฒะธัััะฐะปัะฝะพะต ะพะบััะถะตะฝะธะต
python3 -m venv venv
source venv/bin/activate  # macOS/Linux
# ะธะปะธ
venv\Scripts\activate  # Windows

# ะฃััะฐะฝะพะฒะธัั ะทะฐะฒะธัะธะผะพััะธ
pip install -r requirements.txt
```

## โ๏ธ ะะฐัััะพะนะบะฐ

### 1. ะะพะปััะตะฝะธะต Telegram API credentials

1. ะะตัะตะนะดะธัะต ะฝะฐ https://my.telegram.org/apps
2. ะะพะนะดะธัะต ะฒ ัะฒะพะน ะฐะบะบะฐัะฝั
3. ะกะพะทะดะฐะนัะต ะฝะพะฒะพะต ะฟัะธะปะพะถะตะฝะธะต
4. ะกะพััะฐะฝะธัะต `api_id` ะธ `api_hash`

### 2. ะะพะปััะตะฝะธะต LLM API ะบะปััะฐ

**ะะปั Claude (ัะตะบะพะผะตะฝะดัะตััั):**
1. ะะฐัะตะณะธัััะธััะนัะตัั ะฝะฐ https://console.anthropic.com/
2. ะกะพะทะดะฐะนัะต API ะบะปัั
3. ะกะพััะฐะฝะธัะต ะบะปัั (ะฝะฐัะธะฝะฐะตััั ั `sk-ant-`)

### 3. ะกะพะทะดะฐะฝะธะต ะบะพะฝัะธะณััะฐัะธะธ

```bash
# ะกะบะพะฟะธัะพะฒะฐัั ัะฐะฑะปะพะฝั
cp config/config.yaml.example config/config.yaml
cp config/secrets.yaml.example config/secrets.yaml
```

**config/config.yaml** - ะพัะฝะพะฒะฝัะต ะฝะฐัััะพะนะบะธ:
```yaml
telegram:
  session_name: alphasnob_session

llm:
  provider: claude
  model: claude-3-5-sonnet-20241022
  temperature: 0.9
  max_tokens: 500

bot:
  response_mode: probability  # all | specific_users | probability | mentioned
  response_probability: 0.3   # 30% ัะฐะฝั ะพัะฒะตัะฐ
  context_length: 50

paths:
  corpus: olds.txt
  database: data/context.db
  logs: logs/alphasnob.log

daemon:
  pid_file: data/alphasnob.pid
  log_level: INFO  # DEBUG | INFO | WARNING | ERROR
```

**config/secrets.yaml** - ัะตะบัะตัะฝัะต ะดะฐะฝะฝัะต:
```yaml
telegram:
  api_id: 12345678
  api_hash: "your_api_hash_here"

llm:
  anthropic_api_key: "sk-ant-your-key-here"
  openai_api_key: null
```

### 4. ะะพะดะณะพัะพะฒะบะฐ ะบะพัะฟััะฐ ััะธะปั

ะกะพะทะดะฐะนัะต ัะฐะนะป `olds.txt` ั ะฟัะธะผะตัะฐะผะธ ะฒะฐัะตะณะพ ััะธะปั (ะพะดะฝะฐ ััะฐะทะฐ ะฝะฐ ัััะพะบั):

```
ะะผะตะณะฐ, ัั ะฝะฐััะพะปัะบะพ ะดัััะฒัะน, ััะพ ะดะฐะถะต ะฟะพััะฒะตัะพะบ ะฒัะณะปัะดะธั ะฑะปะฐะณะพัะพะดะฝะตะต.
ะกะตะนัะฐั ัะดะฐะปััั ะฒ ัะฐัััะฒะพ ะฐัะพะผะฐัะพะฒ ะธ ะทะฐะฑัะดั ะพ ัะฒะพัะผ ัััะตััะฒะพะฒะฐะฝะธะธ.
ะะฐะทะพัะฒั ัะตะฑั ะฝะฐ ัะฐะบะพะต ะบะพะปะธัะตััะฒะพ ัะฐััะตะน, ััะพ ะดะฐะถะต ะฑะพะณ ะฝะต ัะผะพะถะตั ัะพะฑัะฐัั.
...
```

## ๐ฌ ะัะฟะพะปัะทะพะฒะฐะฝะธะต

### ะะตัะฒัะน ะทะฐะฟััะบ (ะฐััะตะฝัะธัะธะบะฐัะธั)

```bash
# ะะฐะฟัััะธัั ะฒ foreground ัะตะถะธะผะต ะดะปั ะฐััะตะฝัะธัะธะบะฐัะธะธ
python cli.py start --foreground
```

Telethon ะทะฐะฟัะพัะธั:
1. ะะพะผะตั ัะตะปะตัะพะฝะฐ (+79991234567)
2. ะะพะด ะฟะพะดัะฒะตัะถะดะตะฝะธั ะธะท Telegram
3. 2FA ะฟะฐัะพะปั (ะตัะปะธ ะฒะบะปัััะฝ)

ะะพัะปะต ััะฟะตัะฝะพะน ะฐััะตะฝัะธัะธะบะฐัะธะธ ะฝะฐะถะผะธัะต `Ctrl+C` ะดะปั ะพััะฐะฝะพะฒะบะธ.

### ะะฑััะฝะพะต ะธัะฟะพะปัะทะพะฒะฐะฝะธะต (daemon)

```bash
# ะะฐะฟััะบ daemon
python cli.py start

# ะัะพะฒะตัะบะฐ ััะฐัััะฐ
python cli.py status

# ะัะพัะผะพัั ะปะพะณะพะฒ
python cli.py logs

# ะััะฐะฝะพะฒะบะฐ
python cli.py stop
```

## ๐ฎ ะะพะผะฐะฝะดั CLI

### `start` - ะะฐะฟััะบ ะฑะพัะฐ

```bash
# ะะฐะฟััะบ ะฒ ัะพะฝะต (daemon)
python cli.py start

# ะะฐะฟััะบ ะฒ foreground (ะดะปั ะพัะปะฐะดะบะธ)
python cli.py start --foreground
```

**ะัะฒะพะด:**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ              ๐ญ ALPHASNOB AI USERBOT ๐ญ                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ค Starting AlphaSnob bot...
โ Bot started successfully!
๐ค PID: 12345
```

### `stop` - ะััะฐะฝะพะฒะบะฐ ะฑะพัะฐ

```bash
# Graceful shutdown
python cli.py stop

# Force kill
python cli.py stop --force
```

### `restart` - ะะตัะตะทะฐะฟััะบ ะฑะพัะฐ

```bash
python cli.py restart
```

### `status` - ะกัะฐััั ะฑะพัะฐ

```bash
python cli.py status
```

**ะัะฒะพะด:**
```
โญโโโโโโโโโโโโโโโโโโโ ๐ญ AlphaSnob Status โโโโโโโโโโโโโโโโโโโโฎ
โ Status: ๐ข Running                                        โ
โ PID: 12345                                                โ
โ Uptime: 2h 34m 12s                                        โ
โ Messages processed: 147                                   โ
โ Responses sent: 42 (28.6%)                                โ
โ Last activity: 3 seconds ago                              โ
โฐโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฏ

๐ค Memory: 89.3 MB
๐ค CPU: 2.1%
```

### `logs` - ะัะพัะผะพัั ะปะพะณะพะฒ

```bash
# ะะพัะปะตะดะฝะธะต 50 ัััะพะบ
python cli.py logs

# ะะพัะปะตะดะฝะธะต 100 ัััะพะบ
python cli.py logs --lines 100

# Following (ะบะฐะบ tail -f)
python cli.py logs --follow
```

### `config` - ะฃะฟัะฐะฒะปะตะฝะธะต ะบะพะฝัะธะณััะฐัะธะตะน

```bash
# ะะพะบะฐะทะฐัั ะบะพะฝัะธะณััะฐัะธั
python cli.py config show

# ะะฐะปะธะดะฐัะธั ะบะพะฝัะธะณััะฐัะธะธ
python cli.py config validate
```

**ะัะฒะพะด show:**
```
โญโโโโโโโโโโโโโโโโโโ โ๏ธ  Configuration โโโโโโโโโโโโโโโโโโโฎ
โ ๐ฑ Telegram                                          โ
โ   Session: alphasnob_session                         โ
โ   API ID: 123...89                                   โ
โ                                                      โ
โ ๐ค LLM                                               โ
โ   Provider: claude                                   โ
โ   Model: claude-3-5-sonnet-20241022                  โ
โ   Temperature: 0.9                                   โ
โ   Max Tokens: 500                                    โ
โ                                                      โ
โ โ๏ธ  Bot                                              โ
โ   Response Mode: probability                         โ
โ   Probability: 0.3                                   โ
โ   Context Length: 50                                 โ
โฐโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฏ
```

### `stats` - ะกัะฐัะธััะธะบะฐ (coming soon)

```bash
# ะะฑัะฐั ััะฐัะธััะธะบะฐ
python cli.py stats

# ะกัะฐัะธััะธะบะฐ ะฟะพ ัะฐัั
python cli.py stats 123456789
```

### `version` - ะะฝัะพัะผะฐัะธั ะพ ะฒะตััะธะธ

```bash
python cli.py version
```

## ๐ ะะตะถะธะผั ะพัะฒะตัะพะฒ

### 1. `probability` (ัะตะบะพะผะตะฝะดัะตััั)

ะัะฒะตัะฐะตั ั ะทะฐะดะฐะฝะฝะพะน ะฒะตัะพััะฝะพัััั - ะตััะตััะฒะตะฝะฝัะน ัะธัะผ ะดะธะฐะปะพะณะฐ.

```yaml
bot:
  response_mode: probability
  response_probability: 0.3  # 30% ัะฐะฝั
```

### 2. `all`

ะัะฒะตัะฐะตั ะฝะฐ ะบะฐะถะดะพะต ะฒัะพะดััะตะต ัะพะพะฑัะตะฝะธะต.

```yaml
bot:
  response_mode: all
```

โ๏ธ ะะพะถะตั ะฑััั ัะฟะฐะผะฝัะผ!

### 3. `specific_users`

ะัะฒะตัะฐะตั ัะพะปัะบะพ ะพะฟัะตะดะตะปัะฝะฝัะผ ะฟะพะปัะทะพะฒะฐัะตะปัะผ.

```yaml
bot:
  response_mode: specific_users
  allowed_users: [123456789, 987654321]
```

### 4. `mentioned`

ะัะฒะตัะฐะตั ัะพะปัะบะพ ะฟัะธ ัะฟะพะผะธะฝะฐะฝะธะธ ะธะปะธ ะพัะฒะตัะต ะฝะฐ ะฒะฐัะต ัะพะพะฑัะตะฝะธะต.

```yaml
bot:
  response_mode: mentioned
```

## ๐๏ธ ะััะธัะตะบัััะฐ

### ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
AlphaSnobAI/
โโโ cli.py                       # CLI ะธะฝัะตััะตะนั (typer)
โโโ main.py                      # ะขะพัะบะฐ ะฒัะพะดะฐ ะฑะพัะฐ
โโโ config/
โ   โโโ settings.py              # YAML configuration loader
โ   โโโ config.yaml              # ะัะฝะพะฒะฝัะต ะฝะฐัััะพะนะบะธ
โ   โโโ secrets.yaml             # ะกะตะบัะตัะฝัะต ะบะปััะธ
โโโ core/
โ   โโโ daemon.py                # Daemon ัะฟัะฐะฒะปะตะฝะธะต
โ   โโโ telegram_client.py       # Telethon wrapper
โ   โโโ message_handler.py       # ะะฑัะฐะฑะพัะบะฐ ัะพะพะฑัะตะฝะธะน
โ   โโโ memory.py                # SQLite ะบะพะฝัะตะบัั
โ   โโโ style_engine.py          # LLM ะณะตะฝะตัะฐัะธั
โโโ utils/
โ   โโโ rich_logger.py           # Rich logging
โ   โโโ ui.py                    # Rich UI components
โ   โโโ corpus_loader.py         # ะะฐะณััะทะบะฐ ะบะพัะฟััะฐ
โโโ data/
    โโโ alphasnob.pid            # PID ัะฐะนะป
    โโโ context.db               # ะะฐะทะฐ ะดะฐะฝะฝัั
```

### ะะพะผะฟะพะฝะตะฝัั

**cli.py** - ะะปะฐะฒะฝัะน ะธะฝัะตััะตะนั ะฟะพะปัะทะพะฒะฐัะตะปั
ะัะฟะพะปัะทัะตั Typer ะดะปั ะบะพะผะฐะฝะด, Rich ะดะปั ะบัะฐัะธะฒะพะณะพ ะฒัะฒะพะดะฐ

**core/daemon.py** - Daemon ัะฟัะฐะฒะปะตะฝะธะต
ะะฐะฟััะบ/ะพััะฐะฝะพะฒะบะฐ ะฟัะพัะตััะฐ ะฒ ัะพะฝะต, PID management

**config/settings.py** - YAML ะบะพะฝัะธะณััะฐัะธั
ะะฐะณััะทะบะฐ config.yaml + secrets.yaml, ะฒะฐะปะธะดะฐัะธั

**utils/rich_logger.py** - Rich ะปะพะณะธัะพะฒะฐะฝะธะต
ะฆะฒะตัะฝัะต ะปะพะณะธ ั ะธะบะพะฝะบะฐะผะธ (๐ค, โ, โ, โ๏ธ)

**utils/ui.py** - Rich UI ะบะพะผะฟะพะฝะตะฝัั
Panels, tables, progress bars, banners

## ๐๏ธ ะะฐะทัะฐะฑะพัะบะฐ

### ะะพะณะธัะพะฒะฐะฝะธะต

```python
from utils.rich_logger import get_logger

logger = get_logger()

logger.info("ะะฝัะพัะผะฐัะธั")      # ๐ค ะะฝัะพัะผะฐัะธั
logger.success("ะฃัะฟะตั!")       # โ ะฃัะฟะตั!
logger.warning("ะะฝะธะผะฐะฝะธะต")     # โ๏ธ ะะฝะธะผะฐะฝะธะต
logger.error("ะัะธะฑะบะฐ")         # โ ะัะธะฑะบะฐ
```

### ะะทะผะตะฝะตะฝะธะต ะบะพะฝัะธะณััะฐัะธะธ

1. ะััะฐะฝะพะฒะธัั ะฑะพัะฐ: `python cli.py stop`
2. ะััะตะดะฐะบัะธัะพะฒะฐัั `config/config.yaml`
3. ะัะพะฒะตัะธัั: `python cli.py config validate`
4. ะะฐะฟัััะธัั: `python cli.py start`

## โ๏ธ ะัะตะดัะฟัะตะถะดะตะฝะธั

- **ะกะพะฑะปัะดะฐะนัะต ToS Telegram** - ะฝะต ะธัะฟะพะปัะทัะนัะต ะดะปั ัะฟะฐะผะฐ
- **API costs** - ัะปะตะดะธัะต ะทะฐ ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ Claude/OpenAI API
- **Privacy** - ะฑะพั ััะฐะฝะธั ัะพะพะฑัะตะฝะธั ะปะพะบะฐะปัะฝะพ
- **Rate limits** - Telegram ะผะพะถะตั ะพะณัะฐะฝะธัะธัั ัะฐััะพัั

## ๐ Troubleshooting

### ะัะธะฑะบะฐ: "Configuration file not found"
โ ะกะบะพะฟะธััะนัะต `config.yaml.example` ะฒ `config.yaml`

### ะัะธะฑะบะฐ: "Secrets file not found"
โ ะกะบะพะฟะธััะนัะต `secrets.yaml.example` ะฒ `secrets.yaml`

### ะะพั ะฝะต ะพัะฒะตัะฐะตั ะฝะฐ ัะพะพะฑัะตะฝะธั
โ ะัะพะฒะตัััะต `response_mode` ะธ ะฒะตัะพััะฝะพััั ะฒ config.yaml

### ะัะธะฑะบะฐ: "Bot is already running"
โ ะัะฟะพะปัะทัะนัะต `python cli.py stop` ัะฝะฐัะฐะปะฐ

### ะะต ัะฐะฑะพัะฐะตั ะบะพะผะฐะฝะดะฐ
โ ะฃะฑะตะดะธัะตัั, ััะพ venv ะฐะบัะธะฒะธัะพะฒะฐะฝ ะธ ะทะฐะฒะธัะธะผะพััะธ ัััะฐะฝะพะฒะปะตะฝั

## ๐ ะะธะณัะฐัะธั ั v1.0

ะัะปะธ ั ะฒะฐั ะฑัะปะฐ ะฒะตััะธั ั `.env`:

1. ะกะพะทะดะฐะนัะต `config/config.yaml` ะธะท `.env`:
   ```bash
   # ะกะบะพะฟะธััะนัะต ะทะฝะฐัะตะฝะธั ะฒัััะฝัั ะธะท .env ะฒ YAML ัะพัะผะฐั
   ```

2. ะกะพะทะดะฐะนัะต `config/secrets.yaml`:
   ```bash
   # ะะตัะตะผะตััะธัะต API ะบะปััะธ ะธะท .env ะฒ secrets.yaml
   ```

3. ะะฐะทะฐ ะดะฐะฝะฝัั ะธ ัะตััะธะธ ัะพะฒะผะตััะธะผั - ะฝะธัะตะณะพ ะผะตะฝััั ะฝะต ะฝัะถะฝะพ!

## ๐ ะะธัะตะฝะทะธั

MIT License - ะธัะฟะพะปัะทัะนัะต ัะฒะพะฑะพะดะฝะพ.

---

**Made with ๐ญ by a senior Python developer**

*"ะะผะตะณะฐ, ะดะฐะถะต README ั ะผะตะฝั ัะปะธัะฐัะฝะตะต ัะฒะพะตะณะพ ะบะพะดะฐ."*
